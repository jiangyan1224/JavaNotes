字符串常量池：

1.字符串常量池只存储字符串的引用，具体实例在堆中

2.String.intern行为改变：

jdk7之前，调用intern，会先看池中有没有equals这个字符串的引用：如果有，直接返回字符串常量池的引用；如果没有，需要复制一个字符串实例到池中，并返回这个池中的引用；

jdk7之后：如果有和这个字符串equals的引用，直接返回池中的引用；否则，在堆中找到这个字符串的实例，把对应引用复制到字符串常量池中，并返回这个引用

3.如果文本字符串作为类的成员变量出现，不管是不是final/static，都会把这个字符串的值以utf8编码写入class文件常量池（而其他类型，只有final static的基本类型的值，才会写入class文件常量池）

4.<font color = "red">在类的成员变量中，如果出现了文本字符串，文本字符串的值一定会直接以utf8存入class文件常量池；而其他基本类型，如果是以final修饰，对应的值也会存入class文件常量池（short byte类型会以Integer形式存入class常量池）</font>





成员变量中的文本字符串是什么时候分配内存的？

--全局字符串池是在“准备阶段”之后在堆中生成字符串实例，并在池中保存引用值，所以在执行intern的时候，堆中肯定已经有对应实例了